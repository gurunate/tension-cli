#!/usr/bin/env node

const templates = require('../lib/templates');
const chalk = require('chalk');
const inquirer = require('inquirer');

templates.fetch().then(data => {

    console.log(chalk.bold.underline('Project Generator'));
    console.log();

    inquirer
        .prompt([{
            type: 'list',
            name: 'template',
            message: 'Select template:',
            choices: data.map(t => t.name.replace(new RegExp(t.pattern), ''))
        }, {
            type: 'input',
            name: 'name',
            message: 'Project name:',
            default: 'my-project'
        }])
        .then(responses => {
           console.log(`I will download and generate ${chalk.green(responses.name)} as a ${chalk.green(responses.template)} project`);
        });
});
